# tform test
# TEST: math.tform.0
set -e -u
S=`pwd` U=u/math/tform C="$S/conf/default.h"
u.conf "$S" "$U" "$C" <<!
run
!
{ u.make clean && u.make -j; } > .make.log
u.run >tform.txt ./udx -- -d 0 0 0 1 2 3    1 2 3 10 20 30  <<!
0 0 0
1 2 3
0.5 1 1.5
!
mv tform.txt tform.out.txt

# TEST: math.tform.1
set -e -u
S=`pwd` U=u/math/tform C="$S/conf/default.h"
u.conf "$S" "$U" "$C" <<!
run
!
{ u.make clean && u.make -j; } > .make.log
u.run >tform.txt ./udx -- -i 0 0 0 1 2 3    1 2 3 10 20 30  <<!
1 2 3
10 20 30
0.5 1 1.5
!
mv tform.txt tform.out.txt

# TEST: math.tform.2
set -e -u
S=`pwd` U=u/math/tform C="$S/conf/default.h"
u.conf "$S" "$U" "$C" <<!
run
!
{ u.make clean && u.make -j; } > .make.log
t1="0 0 0 1 2 3    1 2 3 10 20 30"
t2="1 2 3 0 0 0    10 20 30 1 2 3"
u.run >tform.txt ./udx -- -c $t1    $t2  <<!
1 2 3
10 20 30
0.5 1 1.5
!
mv tform.txt tform.out.txt

# TEST: math.tform.3
set -e -u
S=`pwd` U=u/math/tform C="$S/conf/default.h"
u.conf "$S" "$U" "$C" <<!
run
!
{ u.make clean && u.make -j; } > .make.log
g1="1 10 100 2 20 200    3 30 300"
g2="4 40 400 5 50 500    6 60 600"
u.run >tform.txt ./udx -- -g $g1    $g2  <<!
7 70 700
!
mv tform.txt tform.out.txt
