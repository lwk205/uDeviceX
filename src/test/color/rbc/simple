# two steps of rbc with colors
# TEST: color.rbc.t1
rm -rf bop diag.txt h5 r rbc.off
cp data/cells/rbc/498.off rbc.off
x=4 y=4 z=4; echo 1 0 0 $x  0 1 0 $y  0 0 1 $z  0 0 0 1 >  rbcs-ic.txt
u.conf conf/double.poiseuille.h <<!!!
   rbcs
   multi_solvent=true color_freq=1
   part_dumps part_freq=1
   tend=1e-3
   numberdensity=3
   XS=8 YS=8 ZS=8
   run
!!!
{ make clean && u.make -j; } > make.log
u.run ./udx @include \"rbc.test.cfg\"
:
bop2txt2 bop/solvent-00001.bop -- bop/colors_solvent-00001.bop |
  awk '{print $7}' | sort -g > color.out.txt

# two steps of rbcs with colors crossing subdomain
# TEST: color.rbc.t2
rm -rf bop diag.txt h5 ply rbc.off
cp data/cells/rbc/498.off rbc.off
x=7.5 y=4 z=2.5; echo 1 0 0 $x  0 1 0 $y  0 0 1 $z  0 0 0 1 >  rbcs-ic.txt
x=0.1 y=0.1 z=5.5; echo 1 0 0 $x  0 1 0 $y  0 0 1 $z  0 0 0 1 >> rbcs-ic.txt
x=4 y=4 z=7.5; echo 1 0 0 $x  0 1 0 $y  0 0 1 $z  0 0 0 1 >> rbcs-ic.txt
u.conf conf/double.poiseuille.h <<!!!
   rbcs
   multi_solvent=true color_freq=1
   part_dumps part_freq=1
   tend=1e-3
   numberdensity=3
   XS=8 YS=8 ZS=8
   run
!!!
{ make clean && u.make -j; } > make.log
u.run ./udx @include \"rbc.test.cfg\"
:
bop2txt2 bop/solvent-00001.bop -- bop/colors_solvent-00001.bop |
  awk '{print $7}' | sort -g > color.out.txt
