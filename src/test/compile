### Build u/safe out of source
# TEST: comp.safe.t1
t=/tmp/udx.$$
trap 'rm -rf $t' 0 1 2 3 15
:
u=u/safe
s=`pwd`
mkdir $t
( cd $t
  u.conf "$s" "$u" "$s/conf/default.h" <<!
  DBG_PEEK KL_SYNC CC_SYNC
  run
!
  { make clean && u.make -j; } > /dev/null
)
echo $?  > make.out.status

### Build u/dang out of source
# TEST: comp.dang.t1
t=/tmp/udx.$$
trap 'rm -rf $t' 0 1 2 3 15
:
u=u/dang
s=`pwd`
mkdir $t
( cd $t
  u.conf "$s" "$u" "$s/conf/default.h" <<!
  run
!
  { make clean && u.make -j; } > /dev/null
)
echo $?  > make.out.status

### Build u/scan out of source
# TEST: comp.scan.t1
t=/tmp/udx.$$
trap 'rm -rf $t' 0 1 2 3 15
:
u=u/scan
s=`pwd`
mkdir $t
( cd $t
  u.conf "$s" "$u" "$s/conf/default.h" <<!
  run
!
  { make clean && u.make -j; } > /dev/null
)
echo $?  > make.out.status
