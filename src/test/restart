#### solvent only restart
# nTEST: rstrt.t1
# rm -rf bop h5 diag.txt rbc.off bin.1 bin.2
# :
# export PATH=../tools:$PATH
# (cd ../cmd; make ) > /dev/null
# cp data/cells/rbc.498.off  rbc.off
# :
# u.conf conf/double.poiseuille.h <<!!!
#    tend=0.01 part_freq=4000
#    doublepoiseuille
#    field_dumps part_dumps
#    field_freq=4000 wall_creation=0
#    BASE_STRT_DUMP=\"bin.1\"
#    strt_dumps=true
#    strt_freq=10000
#    RESTART=false
#    run
#    tend=2.01
#    RESTART=true
#    pushflow=true
#    BASE_STRT_READ=\"bin.1\"
#    BASE_STRT_DUMP=\"bin.2\"
#    run
#!!!
# :
# u.strtdir bin.1
# u.strtdir bin.2
# (make clean && u.make -j) > /dev/null
# sh runfile
# avg_h52.m h5/flowfields-0000.h5 | uscale 0.1 > h5.out.txt
#

#### solvent with wall restart
# nTEST: rstrt.t2
# rm -rf bop h5 diag.txt rbc.off bin.1 bin.2 sdf.dat
# :
# export PATH=../tools:$PATH
# (cd ../cmd; make ) > /dev/null
# cp data/cells/rbc.498.off  rbc.off
# cp data/sdf/wall1/wall.dat sdf.dat
# :
# u.conf conf/couette.h <<!!!
#    tend=0.5 part_freq=4000
#    field_dumps part_dumps field_freq=4000
#    walls wall_creation=100 shear_z
#    pushflow=false
#    BASE_STRT_DUMP=\"bin.1\"
#    strt_dumps=true
#    strt_freq=10000
#    RESTART=false
#    run
#    tend=2.01
#    RESTART=true
#    pushflow=true
#    BASE_STRT_READ=\"bin.1\"
#    BASE_STRT_DUMP=\"bin.2\"
#    run
#!!!
# :
# u.strtdir bin.1
# u.strtdir bin.2
# (make clean && u.make -j) > /dev/null
# sh runfile
# avg_h52.m h5/flowfields-0000.h5 | uscale 0.1 > h5.out.txt
#

#### RBC in a periodic box
# nTEST: rstrt.t3
# rm -rf bop diag.txt h5 r rbc.off
# export PATH=../tools:$PATH
# (cd ../cmd; make ) > /dev/null
# :
# cp data/cells/rbc.498.off rbc.off
# x=0.75 y=8 z=12; echo 1 0 0 $x  0 1 0 $y  0 0 1 $z  0 0 0 1 > rbcs-ic.txt
# :
# u.conf conf/couette.h <<!!!
#    rbcs tend=0.5 part_freq=300
#    wall_creation=0
#    BASE_STRT_DUMP=\"bin.1\"
#    strt_dumps=true
#    strt_freq=10000
#    RESTART=false
#    run
#    RESTART=true
#    pushflow pushrbc
#    BASE_STRT_READ=\"bin.1\"
#    BASE_STRT_DUMP=\"bin.2\"
#    run
#!!!
# :
# u.strtdir bin.1
# u.strtdir bin.2
# (make clean && u.make -j && make -C ../tools) > /dev/null
# sh runfile
# ply2punto r/00003.ply | uscale 100 > ply.out.txt
#

#### two RBCs around cylinder with one RBC removed by the wall
# nTEST: rstrt.t4
# rm -rf bop diag.txt h5 ply rbc.off bin.1 bin.2
# export PATH=../tools:$PATH
# (cd ../cmd; make ) > /dev/null
# :
# cp data/cells/rbc.498.off rbc.off
# cp data/sdf/cyl1/cyl.dat  sdf.dat
# x=0.75 y=3 z=9; echo 1 0 0 $x  0 1 0 $y  0 0 1 $z  0 0 0 1 >  rbcs-ic.txt
# x=8    y=8 z=8; echo 1 0 0 $x  0 1 0 $y  0 0 1 $z  0 0 0 1 >> rbcs-ic.txt
# :
# u.conf conf/around.h <<!!!
#    rbcs tend=0.5 part_freq=5000
#    wall_creation=999 walls kBT=1e-7
#    BASE_STRT_DUMP=\"bin.1\"
#    strt_dumps=true
#    strt_freq=10000
#    RESTART=false
#    run
#    RESTART=true
#    pushflow pushrbc tend=3.0
#    BASE_STRT_READ=\"bin.1\"
#    BASE_STRT_DUMP=\"bin.2\"
#    run
#!!!
# :
# u.strtdir bin.1
# u.strtdir bin.2
# :
# { make clean && u.make -j && make -C ../tools; } > /dev/null
# sh runfile
# ply2punto r/00001.ply | uscale 100 > ply.out.txt
#

#### 3 rigid ellipsoids in double poiseuille, contact
# sTEST: rstrt.t5
# export PATH=../tools:$PATH
# (cd ../cmd; make ) > /dev/null
# :
# cp data/cells/rbc.498.off rbc.off
# rm -rf h5 diag.txt solid_diag.txt
# echo -e "4.1 21.5 8\n4.1 10.5 8\n11.9 16 8" > ic_solid.txt
# cp data/rig/ellipsoid.ply mesh_solid.ply
# :
# u.conf conf/double.poiseuille.h <<!!!
#    solids contactforces tend=0.1 part_freq=100
#    wall_creation=199 part_dumps
#    BASE_STRT_DUMP=\"bin.1\"
#    pushflow=false doublepoiseuille
#    strt_dumps=true
#    strt_freq=10000
#    RESTART=false
#    run
#    RESTART=true
#    pushflow=true tend=0.7
#    BASE_STRT_READ=\"bin.1\"
#    BASE_STRT_DUMP=\"bin.2\"
#    run
#!!!
# :
# u.strtdir bin.1
# u.strtdir bin.2
# :
# { make clean && u.make -j && make -C ../tools; } > /dev/null
# sh runfile
# cat solid_diag_0000.txt | awk '{print $2, $5, $8}' | uscale 5 > sdiag.out.txt
#

