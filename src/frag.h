/* see doc/frag.md */
static const int frag_id000[3][3][3] = {
    {{13, 22, 4}, {16, 25, 7}, {10, 19, 1}},
    {{14, 23, 5}, {17, 26, 8}, {11, 20, 2}},
    {{12, 21, 3}, {15, 24, 6}, {9, 18, 0}}};
#define frag_ncell0(x, y, z) \
    ((((x) == 0 ? (XS) : 1)) * \
     (((y) == 0 ? (YS) : 1)) * \
     (((z) == 0 ? (ZS) : 1)))
#define frag_ncell(i) \
    (frag_ncell0(frag_to_dir[(i)][0], frag_to_dir[(i)][1], frag_to_dir[(i)][2]))
#define frag_bulk (27)

static const int frag_to_dir[27][3] = {
    { 1, 1, 1}, {-1, 1, 1}, { 0, 1, 1}, { 1,-1, 1}, 
    {-1,-1, 1}, { 0,-1, 1}, { 1, 0, 1}, {-1, 0, 1}, 
    { 0, 0, 1}, { 1, 1,-1}, {-1, 1,-1}, { 0, 1,-1}, 
    { 1,-1,-1}, {-1,-1,-1}, { 0,-1,-1}, { 1, 0,-1}, 
    {-1, 0,-1}, { 0, 0,-1}, { 1, 1, 0}, {-1, 1, 0}, 
    { 0, 1, 0}, { 1,-1, 0}, {-1,-1, 0}, { 0,-1, 0}, 
    { 1, 0, 0}, {-1, 0, 0}, { 0, 0, 0}};
#define  frag_to_id(x, y, z) (frag_id000[ (x)+1][ (y)+1][ (z)+1])

static const int frag_fro_dir[27][3] = {
    {-1,-1,-1}, { 1,-1,-1}, { 0,-1,-1}, {-1, 1,-1}, 
    { 1, 1,-1}, { 0, 1,-1}, {-1, 0,-1}, { 1, 0,-1}, 
    { 0, 0,-1}, {-1,-1, 1}, { 1,-1, 1}, { 0,-1, 1}, 
    {-1, 1, 1}, { 1, 1, 1}, { 0, 1, 1}, {-1, 0, 1}, 
    { 1, 0, 1}, { 0, 0, 1}, {-1,-1, 0}, { 1,-1, 0}, 
    { 0,-1, 0}, {-1, 1, 0}, { 1, 1, 0}, { 0, 1, 0}, 
    {-1, 0, 0}, { 1, 0, 0}, { 0, 0, 0}};
#define frag_fro_id(x, y, z) (frag_id000[-(x)+1][-(y)+1][-(z)+1])
#define frag_anti(i) frag_to_id(frag_fro_dir[(i)][0], frag_fro_dir[(i)][1], frag_fro_dir[(i)][2])
