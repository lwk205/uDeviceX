. u.conf.re

i="$1"; shift
id="$1"; shift

d="$b/$i"

filter () {
${AWK=awk} -v id="$id" '
{
    d = $1
    b = basename(d)
    if (!nump(b))  print d
    if (eq(b, id)) print d
}

function str(a)   { return a "" }
function eq(a, b) { return str(a) == str(b) }

function nump(n) { return n ~ /^[0-9]*$/}

function basename(s) {
    sub(/^.*[\/]/, "", s)
    sub(/\.[^\.]*$/, "", s)
    return s
}

'
}

find $d -type f | filter
