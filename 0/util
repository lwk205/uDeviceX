msg () { printf ': %s\n' "$*" >&2; }

exec0 () { msg "$@"; "$@"; }
safe_cp () {
    # from/to
    local f t
    f="$1"; shift
    t="$1"; shift
    if test ! -f "$f"
    then msg "not a file: $f"
	 exit 1
    fi
    exec0 ln -s "$f" "$t"
}
