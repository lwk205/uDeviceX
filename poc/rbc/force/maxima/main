load("vect") $
load("pdiff") $
cross(a, b):=express(a ~ b) $
dot(a, b):=express(a . b) $


a: [ax, ay, az] $
b: [bx, by, bz] $
c: [cx, cy, cz] $
d: [dx, dy, dz] $

/*
       c

a            d
       b

*/

ab: b - a;
ac: c - a;

bd: d - b;
bc: c - b;

k: cross(ab, ac);
n: cross(bd, bc);

cphi: dot_kn(kx, ky, kz, nx, ny, nz)/(kk(kx, ky, kz) * nn(nx, ny, nz));

factor(diff(cphi, kx));

