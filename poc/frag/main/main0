. ./u

d=$1

common () {
       ./to  | ./id                    | ./def 'static const int frag_id000[3][3][3] = '
       cat main/macro/ncell.h
}
to    ()  { ./to  | ./dir  | ./tbl  | ./arr | ./def 'static const int frag_to_dir[27][3] = '; }
fro   ()  { ./fro | ./dir  | ./tbl  | ./arr | ./def 'static const int frag_fro_dir[27][3] = '; }

common                             > $d/common.h
{ to;  cat main/macro/to.h; }      > $d/to.h
{ fro; cat main/macro/fro.h; }     > $d/fro.h
